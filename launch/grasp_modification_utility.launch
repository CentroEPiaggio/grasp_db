<launch>

    <!-- LAUNCH INTERFACE -->
    <arg name="robot_name" default="vito" doc="Decide which robot to consider (to load appropriate parameters)"/>
    <arg name="load_ik_params" default="false" doc="Decide whether to load dual_manipulation_ik parameters"/>

    <!-- LAUNCH IMPLEMENTATION -->
    <group ns="GMU">

        <include file="$(find dual_manipulation_shared)/launch/dual_manipulation.launch">
            <arg name="robot_name" value="$(arg robot_name)"/>
            <arg name="load_ik_params" value="$(arg load_ik_params)"/>
        </include>

        <!-- this is to have a nice visualization of the hand (left/right) with the joint slide -->
        <param name="robot_description" command="$(find xacro)/xacro.py $(find dual_manipulation_grasp_db)/urdf/hand.urdf.xacro" />

        <!--<param name="use_gui" value="true"/>-->
        <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
            <rosparam param="source_list">["gui_joint_state_publisher"]</rosparam>
        </node>

        <node name="hand_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"/>
        
        <!-- using rviz panel from now-->
<!--         <node pkg="dual_manipulation_grasp_db" type="grasp_modification_utility" name="grasp_modification_utility" respawn="false" output="screen"/> -->

        <param name="hand_mesh_path" value="package://soft_hand_description/meshes/palm_right.stl"/>
        <rosparam param="actuated_joints">["right_hand_synergy_joint"]</rosparam>
        <node name="grasp_modification_utility_rviz" pkg="rviz" type="rviz" respawn="false" output="screen" args="-d $(find dual_manipulation_grasp_db)/launch/grasp_modification_utility.rviz"/>

    </group>

</launch>
